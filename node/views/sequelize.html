<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>소연이의 게시판</title>
    <style>
      table { border: 1px solid black; border-collapse: collapse; }
      table th, table td { border: 1px solid black; }
    </style>
  </head>
  <body>
    <div>
      <form id="user-form">
        <fieldset>
          <legend>회원가입</legend>
          <div><input id="loginId" type="text" placeholder="아이디"></div>
          <div><input id="pw" type="password" placeholder="비밀번호"></div>
          <div><input id="name" type="text" placeholder="이름"></div>
          <div><input id="age" type="number" placeholder="나이"></div>
          <div><input id="married" type="checkbox"><label for="married">결혼여부</label></div>
          <div><input id="isAdmin" type="checkbox"><label for="isAdmin">관리자</label></div>
          <button type="submit">회원가입</button>
          <button type="button" onclick="location.href='login'">로그인</button>
        </fieldset>
      </form>
    </div>
    <br>
    <table id="user-list">
      <thead>
      <tr>
        <th>번호</th>
        <th>아이디</th>
        <th>이름</th>
        <th>나이</th>
        <th>결혼여부</th>
      </tr>
      </thead>
      <tbody>
        {% for user in users %}
        <tr>
          <td>{{user.id}}</td>
          <td>{{user.loginId}}</td>
          <td>{{user.name}}</td>
          <td>{{user.age}}</td>
          <td>{{ '기혼' if user.married else '미혼'}}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <br>
    <table id="comment-list">
      <thead>
      <tr>
        <th>댓글 아이디</th>
        <th>작성자 아이디</th>
        <th>작성자 이름</th>
        <th>댓글</th>
        <th>수정</th>
        <th>삭제</th>
      </tr>
      </thead>
      <tbody></tbody>
    </table>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="/join.js"></script>
    <script>
      window.onload=()=>{
        if(new URL(location.href).searchParams.get('error')){
          alert('이미 존재하는 아이디입니다.');
        }
      };
    </script>
  </body>
</html>